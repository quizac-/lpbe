# lpbe
##Linux Polaris BIOS Editor

./lpbe.py options:
option | description
------ | -----------
--in | Input BIOS filename
--out | New BIOS filename to save to
--set-vram table_idx,[mclk|idx],strap | table_idx points to VRAM settings for specific memory type. Usually number between 0 and 2 where 1 could be for Samsung and 2 for Hynix, etc
                                | mclk is memory clock(MHz)
                                | idx(<0) allows to address VRAM table from the end. -1 points to last entry.
                                | strap is a string which contains new timings. I.e. 777000000000000022AA1C00B56A6D46C0551017BE8E060C006AE6000C081420EA8900AB030000001B162C31C0313F17. Another value is 'BEST' which picks hex string automatically.
   --set-sclk idx,clock,mV      | I.e. '4,1150,-', '5,1150,-' '-' skips mV setting
   --set-mclk idx,clock,mV      | Similar to the above but responsible for memory controller. I.e. '1,1000,- 2,2000,975'

```
Example:
$ ./lpbe.py --in BIOS_backup_RadeonRX_580_113-4E353BU-O4E_Sapphire_Pulse_8G_Hynix_orig.rom \
            --out BIOS_backup_RadeonRX_580_113-4E353BU-O4E_Sapphire_Pulse_8G_Hynix_modded.rom \
            --set-vram 0,-1,BEST 0,-2,BEST 1,-1,BEST 1,-2,BEST 2,-1,BEST 2,-2,BEST \
            --set-mclk 2,2000,975 \
            --set-sclk 4,1146,- 5,1147,- 6,1148,- 7,1149,-

Output:
lpbe.py: INFO lpbe.main:684: "Setting mclk 2: '2000' '975'"
lpbe.py: INFO lpbe.main:723: "Setting sclk 4: '1146' '-'"
lpbe.py: INFO lpbe.main:723: "Setting sclk 5: '1147' '-'"
lpbe.py: INFO lpbe.main:723: "Setting sclk 6: '1148' '-'"
lpbe.py: INFO lpbe.main:723: "Setting sclk 7: '1149' '-'"
lpbe.py: WARNING lpbe.main:817: 'VRAM table 0: does not exist'
lpbe.py: INFO lpbe.main:835: 'Setting vram 1: 1750 777000000000000022CC1C00AD615C41C0590E152ECC8608006007000B031420FA8900A00300000010122F3FBA354019'
lpbe.py: INFO lpbe.main:835: 'Setting vram 1: 2000 777000000000000022CC1C00AD615C41C0590E152ECC8608006007000B031420FA8900A00300000010122F3FBA354019'
lpbe.py: INFO lpbe.main:835: 'Setting vram 2: 2000 777000000000000022AA1C00B56A6D46C0551017BE8E060C006AE6000C081420EA8900AB030000001B162C31C0313F17'
lpbe.py: INFO lpbe.main:835: 'Setting vram 2: 2250 777000000000000022AA1C00B56A6D46C0551017BE8E060C006AE6000C081420EA8900AB030000001B162C31C0313F17'
Old BIOS Checksum=0x12
New BIOS checksum=0x93
VendorID=0x1002
DeviceID=0x67DF
SubsystemID=0xE353
SubsystemVendorID=0x1DA2
FirmWareSignature=0x4D4F5441
BIOSText=113_4E353BU_O4E_GDDR5_E353_XTX_A1_GDDR5_256Mx32_8GB_353Y060U_O4E
Max GPU Frequency (MHz)=2000
Max Memory Frequency (MHz)=2250
TDP=145
usConfigurableTDP=0
TDC=137
SmallPowerLimit=155
LowCACLeakage=0
HighCACLeakage=0
MaximumPowerDeliveryLimit=155

vddc 0: 750
vddc 1: 65282
vddc 2: 65283
vddc 3: 65284
vddc 4: 65285
vddc 5: 65286
vddc 6: 65287
vddc 7: 65288
vddc 8: 800
vddc 9: 850
vddc 10: 900
vddc 11: 950
vddc 12: 1000
vddc 13: 1050
vddc 14: 1100
vddc 15: 1150

sclk 0: 300 750 0=0mV(0)
sclk 1: 600 65282 1=-25mV(65510)
sclk 2: 900 65283 2=-25mV(65510)
sclk 3: 1145 65284 3=-25mV(65510)
sclk 4: 1146 65285 4=-25mV(65510)
sclk 5: 1147 65286 5=-25mV(65510)
sclk 6: 1148 65287 6=-25mV(65510)
sclk 7: 1149 65288 7=0mV(0)

mclk 0: 300 1000
mclk 1: 1000 1000
mclk 2: 2000 975

vram Samsung K4G80325FB 1:250 333000000000000022CC1C00628C110B10570A080EC3B00100204100220114209A8800A000000000040308091B0D0F0E
vram Samsung K4G80325FB 1:400 333000000000000022CC1C006394121120570A091144B102002042002A021420AA8800A00000000006040C0E2B10120F
vram Samsung K4G80325FB 1:600 333000000000000022CC1C00A520241A40570B0B97051204002264003A051420CA8800A0000000000906121541151810
vram Samsung K4G80325FB 1:900 333000000000000022CC1C00E7B4362780570B0F9F072306002485005A091420DA8800A0000000000E081A20621D2012
vram Samsung K4G80325FB 1:1000 333000000000000022CC1C000839372B90570B102148D30600448600620A14206A8900A0000000000F091D236D1F2213
vram Samsung K4G80325FB 1:1125 333000000000000022CC1C0029414831A0570C1125C9B3070046A6006A0C14206A8900A000000000110A21287B222614
vram Samsung K4G80325FB 1:1250 333000000000000022CC1C004A494937B0570C12294A94080046A700720E14207A8900A000000000130B252D89252A14
vram Samsung K4G80325FB 1:1375 333000000000000022CC1C008C515A3DC0570D132DCB74090048C7007A0014207A8900A002000000150D293197282E15
vram Samsung K4G80325FB 1:1500 555000000000000022CC1C00AD595B41C0570E14B00B450A0068C70003011420FA8900A003000000170E2B34A42A3116
vram Samsung K4G80325FB 1:1625 555000000000000022CC1C00CE616C47D0570F15B48C250B006AE7000B031420FA8900A003000000190F2F39B22D3517
vram Samsung K4G80325FB 1:1750 777000000000000022CC1C00AD615C41C0590E152ECC8608006007000B031420FA8900A00300000010122F3FBA354019
vram Samsung K4G80325FB 1:2000 777000000000000022CC1C00AD615C41C0590E152ECC8608006007000B031420FA8900A00300000010122F3FBA354019
vram Hynix H5GQ8H24MJR 2:400 555000000000000022DD1C008494121120550B0A1444B10200204100330414209A8800A00000712406050C0D2B11150F
vram Hynix H5GQ8H24MJR 2:800 777000000000000022DD1C00E7AC352240550D0D20C77205002481004C0914209A8800A0000071240C08171B571A2111
vram Hynix H5GQ8H24MJR 2:900 777000000000000022DD1C002931462650550E0EA20723060026A200540A1420AA8800A0000071240D0A1A1D621C2312
vram Hynix H5GQ8H24MJR 2:1000 777000000000000022DD1C0029B5462960550E0F2448D3060026A2005C0B1420AA8800A0000071240E0A1C206D1E2513
vram Hynix H5GQ8H24MJR 2:1125 999000000000000022339D006BBD572F5055100F29C9B3070048C4005D0D14204A8900A000007124100C20247B202A13
vram Hynix H5GQ8H24MJR 2:1250 999000000000000022339D008CC558345055110F2D4A94080048C4005D0F14204A8900A000007124120D232889222E14
vram Hynix H5GQ8H24MJR 2:1375 999000000000000022339D00ADCD693A7055111131CB7409004AE4006D0114204A8900A002007124140E272D97263215
vram Hynix H5GQ8H24MJR 2:1500 999000000000000022339D00CE516A3E80551212B40B450A004AE400750314204A8900A002007124150F2A30A4283516
vram Hynix H5GQ8H24MJR 2:1625 999000000000000022449D00105A7B4480551312B88C250B004C0401750514204A8900A00200712417112E34B22A3916
vram Hynix H5GQ8H24MJR 2:1750 999000000000000022559D0031627C4990551313BC0D060C004C04017D0714204A8900A00200712419123138C02D3D17
vram Hynix H5GQ8H24MJR 2:2000 777000000000000022AA1C00B56A6D46C0551017BE8E060C006AE6000C081420EA8900AB030000001B162C31C0313F17
vram Hynix H5GQ8H24MJR 2:2250 777000000000000022AA1C00B56A6D46C0551017BE8E060C006AE6000C081420EA8900AB030000001B162C31C0313F17
lpbe.py: INFO lpbe.main:904: 'Writing new BIOS to BIOS_backup_RadeonRX_580_113-4E353BU-O4E_Sapphire_Pulse_8G_Hynix_modded.rom'
lpbe.py: INFO lpbe.main:906: 'Done'
```
